<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Script Rules</title>
    <link rel="stylesheet" href="https://unpkg.com/primeflex@^3/primeflex.css">
    <link rel="stylesheet" href="/assets/css/styles.css">
  </head>
  <body class="h-screen w-screen m-0 surface-section">
    <!-- Header -->
    <div class="header w-full flex flex-row surface-section justify-content-center">
      <div class="flex-1 pt-2 flex flex-row" style="margin: auto;">
        <div>
          <img class="pl-2" src="/assets/images/uvuyo.png" alt="2Yetis Logo" height="30px"/>
        </div>
<!--        <div class="pl-3">
          <h3 style="margin: 0px;">Documentation</h3>
        </div> -->
      </div>
      <div style="width: 50rem; margin: auto;" class="px-3">
        <h1 style="margin: 0px; display: inline;">Documentation&nbsp;</h1>(v1.0.0)
      </div>

      <div class="flex-1 flex flex-row pr-2 justify-content-end" style="margin: auto;">
        <div>
          <a href="https://2yetis.net"><img src="/assets/images/poweredby.png" alt="powerby Logo" height="30px"></a>
        </div>
      </div>
    </div>

    <!-- Body -->
    <div class="body w-full flex flex-row surface-ground justify-content-center">
      <!-- Left -->
      <div class="flex1"></div>

      <div class="toc-container">
        <ul class="toc">
    
      <li class="toc-item">
        <a href="/" >Overview</a>
        
      </li>
    
      <li class="toc-item">
        <a href="/getting-started.html" >Getting Started</a>
        
      </li>
    
      <li class="toc-item">
        <a href="/about.html" >About</a>
        
      </li>
    
      <li class="toc-item">
        <a href="/architecture.html" >Architecture</a>
        
      </li>
    
      <li class="toc-item">
        <a href="/rules.html" >Rules</a>
        
        <ul class="toc toc-1">
          
            <li class="toc-item"><a href="/rules/filter-rules.html" >Filter Rules</a></li>
          
            <li class="toc-item"><a href="/rules/map-rules.html" >Map Rules</a></li>
          
            <li class="toc-item"><a href="/rules/script-rules.html" >Script Rules</a></li>
          
        </ul>
      
      </li>
    
      <li class="toc-item">
        <a href="/hardware-and-software-requirements.html" >Hardware and Software Requirements</a>
        
      </li>
    
      <li class="toc-item">
        <a href="/installation.html" >Installation</a>
        
      </li>
    
</ul>
  
      </div>

      <div style="width: 50rem;" class="surface-section border-round-md p-3 my-3 overflow-auto">
        <p>Script rules allow you to create scripts to manipulate events. They are the most complex rule type, but also give you the most power. Script rules have a script which is executed when the trigger expression is true. The script takes the event that should be processed as an input.</p>

<p>Example:</p>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">LogEvent</span>
  <span class="na">type</span><span class="pi">:</span> <span class="s">Script</span>
  <span class="na">script</span><span class="pi">:</span> <span class="pi">|</span>
    <span class="s">// write event to log file in json format ...</span>
    <span class="s">logger.info(Util.json(event));</span>

    <span class="s">// set the default message for the event</span>
    <span class="s">if ( _classname =~ "patrol.*" ) {</span>
      <span class="s">event.details=`Event was send from origin '${event.patrolTrapOrigin}'.`;</span>
    <span class="s">} else {</span>
      <span class="s">event.details="we have nothing more to say ...";</span>
    <span class="s">}</span>
    
</code></pre></div></div>

<p>Script rules provide you with the full power of a scripting language as “if then else”</p>

<p>The uvuyo gateway uses the Jexl engine as the driver for the event engine. 
Environment</p>

      </div>

      <div style="width: 14rem;">
        
      </div>
    </div>
  </body>
</html>